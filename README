This folder contains the code to accomopany the following publication:

N. Morozs, W. Gorma, B. Henson, L. Shen, P. D. Mitchell and Y. V. Zakharov, "Channel Modelling for Underwater Acoustic Network Simulation," submitted to IEEE Communications Surveys & Tutorials, Feb 2020.

This work was supported by the UK Engineering and Physical Sciences Research Council (EPSRC) through the USMART Project under Grant EP/P017975/1.

This code is published under the MIT License (see full license in the 'LICENSE' file)

******************************
Prerequisites and installation
******************************

Required software:

1) MATLAB (tested on R2015a and R2018b)
2) Bellhop (M. Porter's Acoustics Toolbox: http://oalib.hlsresearch.com/AcousticsToolbox/)
   - Requires the latest version available to date (downloaded 23 Jan 2020) 
   - The installation requires a FORTRAN compiler (e.g. gfortran on Linux-based systems)
   - Please consult the 'index.htm' file at the Acoustics Toolbox root directory and the 'bellhop-installation-notes.pdf' provided by us for BELLHOP installation instructions

********
Contents
********

The list of subdirectories:

'channel_model': MATLAB files and data referenced in Sections IV and V of the paper. All of the channel modelling code is inside this folder.

'single_hop_case_study': the data, results and the plotting script for teh Riverbed Modeler single-hop ALOHA case study (Section VI.A)

'stdma_case_study': simulation scripts, channel data and results for the statistical channel modelling and STDMA case study (Section VI.B)

The descriptions of the MATLAB scripts and functions in the 'channel_model' subdirectory can be accessed by typing 'help <script/function name>' into the MATLAB console. Their functionality are also described in the paper. Below is a list of some of the key scripts performing various channel modelling tasks described in teh paper. Note, the results may vary slightly compared to those included in the paper, since the random number generator may produce different sea surface/bottom realizations and node positions permutations on different versions of MATLAB.

'single_sim': this is the best starting point to familiarize yourself with our model. It performs a single ray tracing simulation and produces plots in Fig. 2, 3, 4, 8, 10, 11, 12, depending on the specified type of simulation.

'create_grid_lut': this script runs BELLHOP on a grid of receiver deppths and ranges and generates raw channel impulse response data used for Figures 13 and 15.

'plot_rxp_snr_grids': this script produces the contour plots as in Fig. 13 and 15, using the data generated by the script above.

'example_3d_channel_lut_gen': this script creates a channel look-up table (raw or processed) for a given set of node positions in 3D space. This was the script we used to generate the data for the Riverbed Modeler case study described in Section VI.A of the paper.

'example_stat_channel_model': this script generates a statistical channel model for a specified pair of source-receiver positions described in Subsection V.C. It also produces the graphs from Fig. 19 and 20.

'create_stat_ch_model_linnet': this script generates a statistical channel model for the linear network case study in Subsection VI.B of the paper.
